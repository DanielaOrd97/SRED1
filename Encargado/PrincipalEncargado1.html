<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ver Equipos</title>
    <link rel="stylesheet" href="../Estilos/Estilos1.css" />
  </head>
  <body id="fijo">
    <header>
      <img src="../assets/filter-solid.svg" alt="" id="iconofiltros-movil" />
      <label for="">Sistema de Reportes de Equipo Dañado</label>
      <span>
        <img
          class="config-grande"
          src="../assets/settings-3-fill (1).svg"
          alt=""
        />
      </span>
    </header>
    <div id="opcionCerrarSesion">
      <label for="">Cerrar sesión</label>
    </div>
    <div id="filtros-flotante">
      <img src="../assets/xmark-solid.svg" alt="" id="btn-cerrarFiltros" />
      <span>
        <label for="">Por fecha</label>
        <input type="date" />
      </span>
      <span class="span-porEstado">
        <label for="">Por estado</label>
        <button>Por atender</button>
        <button>Atendido</button>
        <button>Todos</button>
      </span>
      <span class="span-porOrden">
        <label for="">Por orden</label>
        <button>Más recientes</button>
        <button>Más antiguos</button>
      </span>
      <button id="btn-Aplicar">Aplicar</button>
    </div>
    <main id="principal-encargado">
      <div class="filtros">
        <input type="date" />
        <select name="" id="combo-estado">
          <option value="a">Por atender</option>
          <option value="">Atendidos</option>
        </select>
        <select name="" id="combo-tiempo">
          <option value="">Más recientes</option>
          <option value="">Más antiguos</option>
        </select>
      </div>
      <ul id="lista-reportesEncargado">
        <li>
          <span class="estado">
            <div class="circulo"></div>
            <label for="" class="lbl-estado">Completado</label>
          </span>
          <label for="" class="marca-completado">Marcar Completado</label>
          <span class="problema">
            <img src="../assets/fix.svg" alt="" />
            <label for="">El monitor no enciende. </label>
          </span>
          <label for="" class="inf">Computadora 5 de Laboratorio CCA3</label>
        </li>
        <li>
          <span class="estado">
            <div class="circulo"></div>
            <label for="" class="lbl-estado">Completado</label>
          </span>
          <label for="" class="marca-completado">Marcar Completado</label>
          <span class="problema">
            <img src="../assets/fix.svg" alt="" />
            <label for="">El monitor no enciende</label>
          </span>
          <label for="" class="inf">Computadora 5 de Laboratorio CCA3</label>
        </li>
        <li>
          <span class="estado">
            <div class="circulo"></div>
            <label for="" class="lbl-estado">Completado</label>
          </span>
          <label for="" class="marca-completado">Marcar Completado</label>
          <span class="problema">
            <img src="../assets/fix.svg" alt="" />
            <label for="">El monitor no enciende</label>
          </span>
          <label for="" class="inf">Computadora 5 de Laboratorio CCA3</label>
        </li>
        <li>
          <span class="estado">
            <div class="circulo"></div>
            <label for="" class="lbl-estado">Completado</label>
          </span>
          <label for="" class="marca-completado">Marcar Completado</label>
          <span class="problema">
            <img src="../assets/fix.svg" alt="" />
            <label for="">El monitor no enciende</label>
          </span>
          <label for="" class="inf">Computadora 5 de Laboratorio CCA3</label>
        </li>
        <li>
          <span class="estado">
            <div class="circulo"></div>
            <label for="" class="lbl-estado">Completado</label>
          </span>
          <label for="" class="marca-completado">Marcar Completado</label>
          <span class="problema">
            <img src="../assets/fix.svg" alt="" />
            <label for="">El monitor no enciende</label>
          </span>
          <label for="" class="inf">Computadora 5 de Laboratorio CCA3</label>
        </li>
        <li>
          <span class="estado">
            <div class="circulo"></div>
            <label for="" class="lbl-estado">Completado</label>
          </span>
          <label for="" class="marca-completado">Marcar Completado</label>
          <span class="problema">
            <img src="../assets/fix.svg" alt="" />
            <label for="">El monitor no enciende</label>
          </span>
          <label for="" class="inf">Computadora 5 de Laboratorio CCA3</label>
        </li>
        <li>
          <span class="estado">
            <div class="circulo"></div>
            <label for="" class="lbl-estado">Completado</label>
          </span>
          <label for="" class="marca-completado">Marcar Completado</label>
          <span class="problema">
            <img src="../assets/fix.svg" alt="" />
            <label for="">El monitor no enciende</label>
          </span>
          <label for="" class="inf">Computadora 5 de Laboratorio CCA3</label>
        </li>
        <li>
          <span class="estado">
            <div class="circulo"></div>
            <label for="" class="lbl-estado">Completado</label>
          </span>
          <label for="" class="marca-completado">Marcar Completado</label>
          <span class="problema">
            <img src="../assets/fix.svg" alt="" />
            <label for="">El monitor no enciende</label>
          </span>
          <label for="" class="inf">Computadora 5 de Laboratorio CCA3</label>
        </li>
        <li>
          <span class="estado">
            <div class="circulo"></div>
            <label for="" class="lbl-estado">Completado</label>
          </span>
          <label for="" class="marca-completado">Marcar Completado</label>
          <span class="problema">
            <img src="../assets/fix.svg" alt="" />
            <label for="">El monitor no enciende</label>
          </span>
          <label for="" class="inf">Computadora 5 de Laboratorio CCA3</label>
        </li>
        <li>
          <span class="estado">
            <div class="circulo"></div>
            <label for="" class="lbl-estado">Completado</label>
          </span>
          <label for="" class="marca-completado">Marcar Completado</label>
          <span class="problema">
            <img src="../assets/fix.svg" alt="" />
            <label for="">El monitor no enciende</label>
          </span>
          <label for="" class="inf">Computadora 5 de Laboratorio CCA3</label>
        </li>
        <li>
          <span class="estado">
            <div class="circulo"></div>
            <label for="" class="lbl-estado">Completado</label>
          </span>
          <label for="" class="marca-completado">Marcar Completado</label>
          <span class="problema">
            <img src="../assets/fix.svg" alt="" />
            <label for="">El monitor no enciende</label>
          </span>
          <label for="" class="inf">Computadora 5 de Laboratorio CCA3</label>
        </li>
        <li>
          <span class="estado">
            <div class="circulo"></div>
            <label for="" class="lbl-estado">Completado</label>
          </span>
          <label for="" class="marca-completado">Marcar Completado</label>
          <span class="problema">
            <img src="../assets/fix.svg" alt="" />
            <label for="" class="descrip"
              >Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
              enim ad minim veniam, quis nostrud exercitation ullamco laboris
              nisi ut aliquip ex ea commodo consequat.
            </label>
          </span>
          <label for="" class="inf">Computadora 5 de Laboratorio CCA3</label>
        </li>
      </ul>
    </main>
  </body>
</html>

<script>
  // PARA QUE NO ELIGA LAS DOS OPCIONES DEL MISMO FILTRO
  let filtrosMovil = document.getElementById("filtros-flotante");
  let botonSeleccionado = null;
  let botonSeleccionado1 = null;
  let spanxOrden = document.querySelector(".span-porOrden");
  let spanxEstado = document.querySelector(".span-porEstado");

  filtrosMovil.addEventListener("click", function (e) {
    if (e.target.tagName == "BUTTON" && e.target.id != "btn-Aplicar") {
      let boton = e.target;

      let actual = window.getComputedStyle(boton).backgroundColor;

      if (boton.parentElement.className == "span-porEstado") {
        spanxOrden.lastElementChild.previousElementSibling.style.backgroundColor =
          "#D9DFE8";
        spanxOrden.lastElementChild.previousElementSibling.style.color =
          "black";
        spanxOrden.lastElementChild.style.backgroundColor = "#D9DFE8";
        spanxOrden.lastElementChild.style.color = "black";

        if (botonSeleccionado && botonSeleccionado !== boton) {
          botonSeleccionado.style.backgroundColor = "#D9DFE8";
          botonSeleccionado.style.color = "black";
        }

        if (actual === "rgb(217, 223, 232)") {
          boton.style.backgroundColor = "#335183";
          boton.style.color = "#ffffff";
        } else {
          boton.style.backgroundColor = "#D9DFE8";
          boton.style.color = "black";
        }

        botonSeleccionado = boton;
      } else if (boton.parentElement.className == "span-porOrden") {
        spanxEstado.lastElementChild.previousElementSibling.previousElementSibling.style.backgroundColor =
          "#D9DFE8";
        spanxEstado.lastElementChild.previousElementSibling.previousElementSibling.style.color =
          "black";
        spanxEstado.lastElementChild.previousElementSibling.style.backgroundColor =
          "#D9DFE8";
        spanxEstado.lastElementChild.previousElementSibling.style.color =
          "black";
        spanxEstado.lastElementChild.style.backgroundColor = "#D9DFE8";
        spanxEstado.lastElementChild.style.color = "black";

        if (botonSeleccionado1 && botonSeleccionado1 !== boton) {
          botonSeleccionado1.style.backgroundColor = "#D9DFE8";
          botonSeleccionado1.style.color = "black";
        }

        if (actual === "rgb(217, 223, 232)") {
          boton.style.backgroundColor = "#335183";
          boton.style.color = "#ffffff";
        } else {
          boton.style.backgroundColor = "#D9DFE8";
          boton.style.color = "black";
        }

        botonSeleccionado1 = boton;
      }
    }
  });

  //BOTON CERRAR FILTROS MOVIL
  let btnCerrarFiltros = document.getElementById("btn-cerrarFiltros");
  let btnfiltrosMovil = document.getElementById("iconofiltros-movil");

  btnfiltrosMovil.addEventListener("click", function () {
    filtrosMovil.style.display = "flex";
  });

  let btnCerrarSesion = document.querySelector(".config-grande");
  let opcionCerrarSesion = document.getElementById("opcionCerrarSesion");

  btnCerrarSesion.addEventListener("click", function (e) {
    e.stopPropagation();

    if (opcionCerrarSesion.style.visibility === "hidden") {
      opcionCerrarSesion.style.visibility = "visible";
    } else {
      opcionCerrarSesion.style.visibility = "hidden";
    }
  });

  document.addEventListener("click", function (e) {
    if (opcionCerrarSesion.style.visibility == "visible") {
      opcionCerrarSesion.style.visibility = "hidden";
    }

    const lista = document.getElementById("lista-reportesEncargado");
    const elementos = lista.getElementsByTagName("li");

    for (let i = 0; i < elementos.length; i++) {
      elementos[i].addEventListener("click", function () {
        window.location.href = "../Encargado/VerDetallesReporte.html"; // Redirige a index.html
      });
    }
  });

  btnCerrarFiltros.addEventListener("click", function () {
    filtrosMovil.style.display = "none";
  });
</script>
