<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Principal Encargado</title>
    <link rel="stylesheet" href="../Estilos/estilos.css" />
  </head>
  <body id="body-encargado">
    <header>
      <img src="../assets/filter-solid.svg" alt="" id="iconofiltros-movil" />
      <label for="" class="titulo-encargado"
        >Sistema de Reportes de Equipo Dañado</label
      >
      <span>
        <img
          class="conf-encargado"
          src="../assets/settings-3-fill (1).svg"
          alt=""
        />
      </span>
    </header>
    <!-- MENU DE FILTROS PARA VISTA MOVIL -->
    <div id="filtros-flotante">
      <img src="../assets/xmark-solid.svg" alt="" id="btn-cerrarFiltros" />
      <span>
        <label for="">Por fecha</label>
        <input type="date" />
      </span>
      <span class="span-porEstado">
        <label for="">Por estado</label>
        <button>Por atender</button>
        <button>Atendido</button>
        <button>Todos</button>
      </span>
      <span class="span-porOrden">
        <label for="">Por orden</label>
        <button>Más recientes</button>
        <button>Más antiguos</button>
      </span>
      <button id="btn-Aplicar">Aplicar</button>
    </div>
    <main id="principal-encargado">
      <div class="filtros">
        <input type="date" />
        <select name="" id="combo-estado">
          <option value="a">Por atender</option>
          <option value="">Atendidos</option>
        </select>
        <select name="" id="combo-tiempo">
          <option value="">Más recientes</option>
          <option value="">Más antiguos</option>
        </select>
        <img
          src="../assets/magnifying-glass-solid.svg"
          alt=""
          id="btn-buscar"
        />
      </div>
      <ul id="lista-reportesEncargado">
        <li>
          <span>
            <label for="" class="num">001</label>
            <label for="">Computadora 5</label>
            <label for="">Laboratorio CCA3</label>
            <label for="">El monitor no enciende.</label>
          </span>
          <label for="" class="lbl-completado">Marcar completado</label>
        </li>
        <li>
          <span>
            <label for="" class="num">001</label>
            <label for="">Computadora 5</label>
            <label for="">Laboratorio CCA3</label>
            <label for="">El monitor no enciende.</label>
          </span>
          <label for="" class="lbl-completado">Marcar completado</label>
        </li>
      </ul>
    </main>
  </body>
</html>

<script>
  // PARA QUE NO ELIGA LAS DOS OPCIONES DEL MISMO FILTRO
  let filtrosMovil = document.getElementById("filtros-flotante");
  let botonSeleccionado = null;
  let botonSeleccionado1 = null;
  let spanxOrden = document.querySelector(".span-porOrden");
  let spanxEstado = document.querySelector(".span-porEstado");

  filtrosMovil.addEventListener("click", function (e) {
    if (e.target.tagName == "BUTTON" && e.target.id != "btn-Aplicar") {
      let boton = e.target;

      let actual = window.getComputedStyle(boton).backgroundColor;

      if (boton.parentElement.className == "span-porEstado") {
        spanxOrden.lastElementChild.previousElementSibling.style.backgroundColor =
          "#D9DFE8";
        spanxOrden.lastElementChild.previousElementSibling.style.color =
          "black";
        spanxOrden.lastElementChild.style.backgroundColor = "#D9DFE8";
        spanxOrden.lastElementChild.style.color = "black";

        if (botonSeleccionado && botonSeleccionado !== boton) {
          botonSeleccionado.style.backgroundColor = "#D9DFE8";
          botonSeleccionado.style.color = "black";
        }

        if (actual === "rgb(217, 223, 232)") {
          boton.style.backgroundColor = "#335183";
          boton.style.color = "#ffffff";
        } else {
          boton.style.backgroundColor = "#D9DFE8";
          boton.style.color = "black";
        }

        botonSeleccionado = boton;
      } else if (boton.parentElement.className == "span-porOrden") {
        spanxEstado.lastElementChild.previousElementSibling.previousElementSibling.style.backgroundColor =
          "#D9DFE8";
        spanxEstado.lastElementChild.previousElementSibling.previousElementSibling.style.color =
          "black";
        spanxEstado.lastElementChild.previousElementSibling.style.backgroundColor =
          "#D9DFE8";
        spanxEstado.lastElementChild.previousElementSibling.style.color =
          "black";
        spanxEstado.lastElementChild.style.backgroundColor = "#D9DFE8";
        spanxEstado.lastElementChild.style.color = "black";

        if (botonSeleccionado1 && botonSeleccionado1 !== boton) {
          botonSeleccionado1.style.backgroundColor = "#D9DFE8";
          botonSeleccionado1.style.color = "black";
        }

        if (actual === "rgb(217, 223, 232)") {
          boton.style.backgroundColor = "#335183";
          boton.style.color = "#ffffff";
        } else {
          boton.style.backgroundColor = "#D9DFE8";
          boton.style.color = "black";
        }

        botonSeleccionado1 = boton;
      }
    }
  });

  // filtrosMovil.addEventListener("click", function (e) {
  //   if (e.target.tagName == "BUTTON" && e.target.id != "btn-Aplicar") {
  //     let boton = e.target;

  //     let actual = window.getComputedStyle(boton).backgroundColor;

  //     if (boton.parentElement.className == "span-porEstado") {
  //       if (botonSeleccionado && botonSeleccionado !== boton) {
  //         botonSeleccionado.style.backgroundColor = "#D9DFE8";
  //         botonSeleccionado.style.color = "black";
  //       }

  //       if (actual === "rgb(217, 223, 232)") {
  //         boton.style.backgroundColor = "#335183";
  //         boton.style.color = "#ffffff";
  //       } else {
  //         boton.style.backgroundColor = "#D9DFE8";
  //         boton.style.color = "black";
  //       }

  //       botonSeleccionado = boton;
  //     } else if (boton.parentElement.className == "span-porOrden") {
  //       if (botonSeleccionado1 && botonSeleccionado1 !== boton) {
  //         botonSeleccionado1.style.backgroundColor = "#D9DFE8";
  //         botonSeleccionado1.style.color = "black";
  //       }

  //       if (actual === "rgb(217, 223, 232)") {
  //         boton.style.backgroundColor = "#335183";
  //         boton.style.color = "#ffffff";
  //       } else {
  //         boton.style.backgroundColor = "#D9DFE8";
  //         boton.style.color = "black";
  //       }

  //       botonSeleccionado1 = boton;
  //     }
  //   }
  // });

  //BOTON CERRAR FILTROS MOVIL
  let btnCerrarFiltros = document.getElementById("btn-cerrarFiltros");
  let btnfiltrosMovil = document.getElementById("iconofiltros-movil");

  btnfiltrosMovil.addEventListener("click", function () {
    filtrosMovil.style.display = "flex";
  });

  btnCerrarFiltros.addEventListener("click", function () {
    filtrosMovil.style.display = "none";
  });
</script>
